# User Flow (사용자 흐름도)

> Mermaid 플로우차트로 핵심 기능의 주요 여정을 표현합니다.
> 성공/실패 분기를 포함하고, 온보딩→핵심작업→리텐션 루프를 표현합니다.

---

## MVP 캡슐

| # | 항목 | 내용 |
|---|------|------|
| 1 | 목표 | AI 인플루언서(패션 모델/아이돌) 섭외 마켓플레이스 |
| 2 | 페르소나 | 브랜드 마케팅 담당자 (1차), AI 모델 크리에이터 (2차) |
| 3 | 핵심 기능 | FEAT-1: AI 모델 탐색/검색, FEAT-2: 섭외 요청/AI 자동 매칭, FEAT-3: 콘텐츠 제작/전달 |
| 4 | 성공 지표 (노스스타) | 월간 성사된 섭외 건수 |
| 5 | 입력 지표 | 등록된 AI 모델 수, 활성 브랜드 수 |
| 6 | 비기능 요구 | 이미지 로딩 2초 이내, 채팅 메시지 실시간 전달 |
| 7 | Out-of-scope | SNS 자동 포스팅, 실시간 영상 생성, 모바일 앱 (웹 우선) |
| 8 | Top 리스크 | AI 매칭 품질이 기대에 못 미칠 수 있음 |
| 9 | 완화/실험 | 초기에 인기 모델 수동 큐레이션 + AI 매칭 AB 테스트 |
| 10 | 다음 단계 | 화면 상세 명세 (/screen-spec) |

---

## 1. 전체 사용자 여정 (Overview)

```mermaid
graph TD
    A[랜딩 페이지 진입] --> B{로그인 상태?}
    B -->|No| C[FEAT-0: 회원가입/로그인]
    B -->|Yes| D[홈 화면]
    C --> E{역할 선택}
    E -->|브랜드| D
    E -->|크리에이터| D

    D --> F{사용자 역할?}
    F -->|브랜드| G[FEAT-1: 모델 탐색]
    F -->|크리에이터| H[모델 등록/관리]

    G --> I[FEAT-2: 섭외 요청]
    I --> J[FEAT-3: 주문 관리]

    H --> K[FEAT-3: 주문 수락/제작]

    J --> L[리텐션: 재섭외]
    K --> M[리텐션: 다음 주문 대기]

    L --> G
    M --> K
```

---

## 2. FEAT-0: 온보딩/로그인 플로우

```mermaid
graph TD
    A[랜딩 페이지] --> B{신규/기존?}

    %% 신규 사용자
    B -->|신규| C[회원가입 선택]
    C --> D[이메일 가입]
    C --> E[소셜 로그인<br/>Google/Kakao]

    D --> F[이메일 입력]
    F --> G[비밀번호 설정]
    G --> H{역할 선택}

    E --> H

    H -->|브랜드| I[브랜드 정보 입력<br/>회사명, 담당자명]
    H -->|크리에이터| J[크리에이터 정보 입력<br/>닉네임, 포트폴리오 링크]

    I --> K[홈 화면<br/>브랜드 대시보드]
    J --> L[홈 화면<br/>크리에이터 대시보드]

    %% 기존 사용자
    B -->|기존| M[로그인]
    M --> N{인증 성공?}
    N -->|Yes| O{역할 확인}
    O -->|브랜드| K
    O -->|크리에이터| L

    N -->|No| P[에러 표시<br/>이메일/비밀번호 확인]
    P --> M
```

---

## 3. FEAT-1: AI 모델 탐색/검색 플로우 (브랜드)

```mermaid
graph TD
    A[홈 화면] --> B[모델 탐색 화면]
    B --> C{탐색 방식?}

    %% 필터 검색
    C -->|필터 사용| D[복합 필터 선택<br/>스타일/용도/외형/인기도]
    D --> E[필터링 결과 목록]

    %% 인기 모델 탐색
    C -->|인기 모델| F[인기 모델 섹션]
    F --> E

    %% 추천 모델
    C -->|AI 추천| G[AI 추천 모델<br/>과거 선호 기반]
    G --> E

    E --> H[모델 카드 클릭]
    H --> I[모델 프로필 상세]

    I --> J{액션 선택}
    J -->|찜하기| K[찜 목록 추가]
    J -->|섭외 요청| L[FEAT-2로 이동]
    J -->|뒤로가기| E

    K --> I
```

---

## 4. FEAT-2: 섭외 요청/AI 자동 매칭 플로우 (브랜드)

```mermaid
graph TD
    A[섭외 요청 시작] --> B[Wizard Step 1<br/>콘셉트 입력]

    B --> C[텍스트 입력<br/>예: 캐주얼, 20대, 밝은 분위기]
    C --> D[참고 이미지 업로드<br/>선택 사항]

    D --> E[AI 매칭 실행<br/>Vector DB 검색]
    E --> F[Wizard Step 2<br/>추천 모델 3-5명 표시]

    F --> G{모델 선택}
    G -->|마음에 듦| H[모델 선택<br/>체크박스]
    G -->|다시 검색| I[콘셉트 수정]
    I --> E

    H --> J[Wizard Step 3<br/>패키지 선택]
    J --> K{패키지 선택}

    K -->|Basic| L[3장, 비독점<br/>가격 표시]
    K -->|Standard| M[10장, 비독점<br/>가격 표시]
    K -->|Premium| N[20장, 독점 3개월<br/>가격 표시]

    L --> O[결제 정보 입력]
    M --> O
    N --> O

    O --> P[포트원 결제]
    P --> Q{결제 성공?}

    Q -->|Yes| R[주문 완료<br/>확인 메시지]
    Q -->|No| S[결제 실패 안내]
    S --> O

    R --> T[브랜드 대시보드<br/>주문 목록 추가]
```

---

## 5. FEAT-3: 콘텐츠 제작/전달 플로우

### 5.1 크리에이터 플로우

```mermaid
graph TD
    A[크리에이터 대시보드] --> B[새 주문 알림]
    B --> C[주문 상세 확인<br/>콘셉트, 패키지 정보]

    C --> D{주문 수락?}
    D -->|거절| E[거절 사유 입력]
    E --> F[주문 취소<br/>브랜드에게 환불]

    D -->|수락| G[상태: 진행중]
    G --> H[콘텐츠 제작<br/>AI 이미지 생성]

    H --> I[완성 파일 업로드<br/>S3/R2에 저장]
    I --> J{품질 확인}

    J -->|재작업 필요| K[브랜드 피드백 확인<br/>채팅]
    K --> H

    J -->|완료| L[상태: 완료<br/>브랜드에게 전달]
    L --> M[정산 대기<br/>수수료 제외 금액]
```

### 5.2 브랜드 플로우

```mermaid
graph TD
    A[브랜드 대시보드] --> B[주문 목록]
    B --> C[주문 클릭]

    C --> D{주문 상태?}
    D -->|접수| E[크리에이터 수락 대기]
    D -->|진행중| F[제작 진행중<br/>예상 완료일 표시]
    D -->|완료| G[다운로드 가능]

    F --> H[채팅으로 문의<br/>WebSocket]
    G --> I[파일 다운로드]

    I --> J{품질 만족?}
    J -->|Yes| K[리뷰 작성<br/>선택 사항]
    J -->|No| L[수정 요청<br/>채팅]

    L --> F
    K --> M[완료<br/>재섭외 유도]
```

---

## 6. 리텐션 루프 (습관 형성)

```mermaid
graph TD
    A[주문 완료] --> B[즉각 피드백<br/>감사 메시지, 다운로드 안내]
    B --> C[리뷰 요청<br/>선택 사항]

    C --> D[다음 목표 제시]
    D --> E{사용자 역할?}

    %% 브랜드 리텐션
    E -->|브랜드| F[추천: 비슷한 모델 탐색]
    F --> G[이메일 알림<br/>신규 모델 추가 시]
    G --> H[재방문<br/>새 캠페인]
    H --> I[FEAT-1: 모델 탐색]

    %% 크리에이터 리텐션
    E -->|크리에이터| J[정산 완료 알림]
    J --> K[다음 주문 대기<br/>대시보드]
    K --> L{새 주문 매칭?}
    L -->|Yes| M[주문 알림]
    L -->|No| N[프로필 개선 제안<br/>포트폴리오 추가]

    M --> O[FEAT-3: 주문 수락]
    N --> K

    %% 마일스톤 보상
    I --> P{마일스톤?}
    O --> P
    P -->|첫 5회 주문| Q[할인 쿠폰 제공]
    P -->|월 10회 이상| R[VIP 배지 부여]

    Q --> I
    R --> O
```

---

## 7. 에러 처리 플로우

```mermaid
graph TD
    A[에러 발생] --> B{에러 유형?}

    B -->|네트워크| C[연결 오류 메시지<br/>재시도 버튼]
    C --> D{재시도?}
    D -->|Yes| E[API 재호출]
    D -->|No| F[오프라인 안내<br/>나중에 다시 시도]

    B -->|입력 오류| G[필드별 에러 표시<br/>빨간색 테두리]
    G --> H[사용자 수정]
    H --> I[재제출]

    B -->|권한 없음| J[로그인 필요 모달]
    J --> K[로그인 화면 이동]

    B -->|서버 오류| L[일시적 오류 안내<br/>잠시 후 재시도]
    L --> M[고객센터 안내<br/>이메일/채팅]

    B -->|결제 실패| N[결제 오류 메시지<br/>카드 정보 확인]
    N --> O[결제 정보 재입력]
    O --> P[재결제 시도]
```

---

## 8. 화면 목록 (Screen Inventory)

| 화면 ID | 화면명 | FEAT | 진입점 | 주요 액션 |
|---------|--------|------|--------|----------|
| S-01 | 랜딩/홈 화면 | - | URL 직접 접속 | 인기 모델 조회, 가입/로그인 |
| S-02 | 로그인 | FEAT-0 | S-01, 인증 필요 시 | 이메일/소셜 로그인 |
| S-03 | 회원가입 | FEAT-0 | S-01 | 역할 선택, 정보 입력 |
| S-04 | 모델 탐색 | FEAT-1 | S-01, 네비게이션 | 필터 적용, 모델 검색 |
| S-05 | 모델 프로필 상세 | FEAT-1 | S-04 | 포트폴리오 조회, 찜, 섭외 요청 |
| S-06 | 섭외 Wizard | FEAT-2 | S-05 | 콘셉트 입력, AI 추천, 결제 |
| S-07 | 브랜드 대시보드 | FEAT-3 | 로그인 후 자동 | 주문 관리, 다운로드 |
| S-08 | 크리에이터 대시보드 | FEAT-3 | 로그인 후 자동 | 주문 수락, 콘텐츠 업로드 |
| S-09 | AI 모델 등록 | FEAT-3 | S-08 | 이미지 업로드, AI 태그 생성 |
| S-10 | 주문별 채팅방 | FEAT-3 | S-07, S-08 | 실시간 메시지, 파일 공유 |

---

## Decision Log 참조

- DL-UX001: 섭외 요청을 3단계 Wizard로 단순화 (콘셉트→추천→결제) (2026-02-05)
- DL-UX002: 브랜드/크리에이터 별도 대시보드 제공 (역할 기반 UX) (2026-02-05)
- DL-UX003: AI 추천 실패 시 수동 필터 검색으로 대체 가능하도록 설계 (2026-02-05)
