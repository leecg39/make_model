version: "2.0"

screen:
  name: 랜딩/홈
  route: /
  layout: full-width
  auth: false

data_requirements:
  - resource: ai_models
    needs: [id, name, thumbnail_url, style, rating, view_count]
    filters: { sort: "view_count:desc", limit: 8 }
    label: popular_models

  - resource: ai_models
    needs: [id, name, thumbnail_url, style, rating]
    filters: { sort: "created_at:desc", limit: 8 }
    label: recent_models

  - resource: platform_stats
    needs: [total_models, total_bookings, total_brands]

components:
  - id: hero_section
    type: section
    position: main
    function: 메인 카피와 CTA 버튼 표시
    events:
      - on: click:cta_explore
        do: /explore로 이동
      - on: click:cta_register
        do: 로그인 체크 후 /models/new 또는 /auth/login으로 이동

  - id: popular_models_grid
    type: grid
    position: main
    function: 인기 모델 8개 카드 그리드 표시
    data_source:
      resource: ai_models
      label: popular_models
    events:
      - on: click:card
        do: /models/:id로 이동

  - id: recent_models_grid
    type: grid
    position: main
    function: 최신 등록 모델 8개 카드 그리드 표시
    data_source:
      resource: ai_models
      label: recent_models
    events:
      - on: click:card
        do: /models/:id로 이동

  - id: stats_section
    type: section
    position: main
    function: 플랫폼 통계 (등록 모델 수, 섭외 건수) 표시
    data_source:
      resource: platform_stats

connections:
  navigations:
    - from: hero_section
      to: /explore
    - from: hero_section
      to: /models/new
    - from: popular_models_grid
      to: /models/:id
    - from: recent_models_grid
      to: /models/:id
  shared_components:
    - header
    - footer

tests:
  - name: 초기 로드
    when: 페이지 접속
    then:
      - 히어로 섹션 표시 (CTA 2개)
      - 인기 모델 8개 카드 표시
      - 최신 모델 8개 카드 표시
      - 플랫폼 통계 수치 표시

  - name: 모델 카드 클릭
    when: 인기 모델 카드 클릭
    then:
      - /models/:id로 이동

  - name: CTA 클릭 (비로그인)
    when: 비로그인 상태에서 "모델 등록하기" 클릭
    then:
      - /auth/login으로 리다이렉트

  - name: CTA 클릭 (로그인)
    when: 크리에이터 로그인 상태에서 "모델 등록하기" 클릭
    then:
      - /models/new로 이동
